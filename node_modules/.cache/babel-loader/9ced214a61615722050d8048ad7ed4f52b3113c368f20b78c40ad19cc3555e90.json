{"ast":null,"code":"import{message,result,createDataItemSigner}from'@permaweb/aoconnect';// Consider importing a UI framework here\nimport React,{useState,useEffect}from'react';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import{createTheme,ThemeProvider}from'@mui/material/styles';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[isArConnectAvailable,setIsArConnectAvailable]=useState(false);const[messageResponse,setMessageResponse]=useState(null);const[resultOutput,setResultOutput]=useState(null);const[textInput,setTextInput]=useState('');// Re-introduced for input field usage\nconst theme=createTheme({palette:{primary:{light:'#757ce8',// Light shade\nmain:'#3f50b5',// Main shade\ndark:'#002884',// Dark shade\ncontrastText:'#fff'// Text color for components using the primary color\n},secondary:{light:'#ff7961',main:'#f44336',dark:'#ba000d',contrastText:'#000'},// You can continue to define other colors as needed\nsuccess:{light:'#81c784',main:'#4caf50',dark:'#388e3c',contrastText:'#000'},error:{light:'#e57373',main:'#f44336',dark:'#d32f2f',contrastText:'#fff'},warning:{light:'#ffb74d',main:'#ff9800',dark:'#f57c00',contrastText:'#000'},info:{light:'#64b5f6',main:'#2196f3',dark:'#1976d2',contrastText:'#000'}}// ...other theme customizations\n});useEffect(()=>{setIsArConnectAvailable(!!window.arweaveWallet);},[]);const handleTextInputChange=event=>{setTextInput(event.target.value);};const fetchResult=async messageId=>{try{let{Messages,Spawns,Output,Error}=await result({message:messageId,// Use the messageId from sendMessage response\nprocess:\"XZllrzvpGSz52qQnmA_H-3q6OEz-jAl7-AfV0ZGRvik\"});console.log(\"Result data:\",{Messages,Spawns,Output,Error});setResultOutput(Messages[0].Data);// Store the result data for displaying\n}catch(error){console.error(\"Error fetching result:\",error);}};const connectToArConnect=async()=>{try{// Requesting permissions from ArConnect; adjust permissions as needed\nawait window.arweaveWallet.connect(['ACCESS_ADDRESS','SIGN_TRANSACTION']);console.log('Connected to ArConnect.');}catch(error){console.error('Error connecting to ArConnect:',error);}};// Adjust sendMessage to use textInput\nconst sendMessage=async()=>{if(!isArConnectAvailable){alert('Please install ArConnect.');return;}try{const response=await message({process:\"XZllrzvpGSz52qQnmA_H-3q6OEz-jAl7-AfV0ZGRvik\",tags:[{name:\"Action\",value:\"GetEmbedding_Proto\"},{name:\"Input\",value:textInput}// Now using textInput\n],signer:createDataItemSigner(window.arweaveWallet)});console.log(\"Message response:\",response);setMessageResponse(response);fetchResult(response);}catch(error){console.error(\"Error sending message:\",error);}};const[showFullList,setShowFullList]=useState(false);const availableWords=['difficult','feature','starting','noted','Spain','tell','values','Welcome','Then','library','red','Wales','finding','communities','funds','Saturday','progress','interesting','showing','overall','fair','respect','manager','remember','relationship','remain','Even','goes','summary','served','range','neither','television','behavior','positive','judge','Smith','purpose','spent','collection','leadership','basic','joined','League','mistake'];return/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[!isArConnectAvailable&&/*#__PURE__*/_jsx(\"p\",{children:\"Please install ArConnect to use this app.\"}),isArConnectAvailable&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:connectToArConnect,children:\"Connect to ArConnect\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Available Words:\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:showFullList?'auto':'50px',overflow:'hidden'},children:availableWords.join(', ')}),/*#__PURE__*/_jsx(TextField,{label:\"Enter the words to embed\",variant:\"outlined\",value:textInput,onChange:handleTextInputChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:sendMessage,children:\"Send Message\"}),resultOutput&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Embedding Output:\"}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto',maxWidth:'600px'},children:/*#__PURE__*/_jsx(\"pre\",{style:{whiteSpace:'pre-wrap'},children:JSON.stringify(resultOutput,null,2)})})]})]})]})});}export default App;","map":{"version":3,"names":["message","result","createDataItemSigner","React","useState","useEffect","Button","TextField","createTheme","ThemeProvider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","isArConnectAvailable","setIsArConnectAvailable","messageResponse","setMessageResponse","resultOutput","setResultOutput","textInput","setTextInput","theme","palette","primary","light","main","dark","contrastText","secondary","success","error","warning","info","window","arweaveWallet","handleTextInputChange","event","target","value","fetchResult","messageId","Messages","Spawns","Output","Error","process","console","log","Data","connectToArConnect","connect","sendMessage","alert","response","tags","name","signer","showFullList","setShowFullList","availableWords","children","style","padding","variant","color","onClick","height","overflow","join","label","onChange","fullWidth","margin","overflowX","maxWidth","whiteSpace","JSON","stringify"],"sources":["/Users/chim/arweave_website_proto/ao_embedder_proto/src/App.js"],"sourcesContent":["\n\n\nimport { message, result, createDataItemSigner } from '@permaweb/aoconnect';\n// Consider importing a UI framework here\nimport React, { useState, useEffect } from 'react';\n\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\n\nfunction App() {\n    const [isArConnectAvailable, setIsArConnectAvailable] = useState(false);\n    const [messageResponse, setMessageResponse] = useState(null);\n    const [resultOutput, setResultOutput] = useState(null);\n    const [textInput, setTextInput] = useState(''); // Re-introduced for input field usage\n\n    const theme = createTheme({\n      palette: {\n        primary: {\n          light: '#757ce8',  // Light shade\n          main: '#3f50b5',   // Main shade\n          dark: '#002884',   // Dark shade\n          contrastText: '#fff', // Text color for components using the primary color\n        },\n        secondary: {\n          light: '#ff7961',\n          main: '#f44336',\n          dark: '#ba000d',\n          contrastText: '#000',\n        },\n        // You can continue to define other colors as needed\n        success: {\n          light: '#81c784',\n          main: '#4caf50',\n          dark: '#388e3c',\n          contrastText: '#000',\n        },\n        error: {\n          light: '#e57373',\n          main: '#f44336',\n          dark: '#d32f2f',\n          contrastText: '#fff',\n        },\n        warning: {\n          light: '#ffb74d',\n          main: '#ff9800',\n          dark: '#f57c00',\n          contrastText: '#000',\n        },\n        info: {\n          light: '#64b5f6',\n          main: '#2196f3',\n          dark: '#1976d2',\n          contrastText: '#000',\n        },\n      },\n      // ...other theme customizations\n    });\n\n    useEffect(() => {\n        setIsArConnectAvailable(!!window.arweaveWallet);\n    }, []);\n\n    const handleTextInputChange = (event) => {\n        setTextInput(event.target.value);\n    };\n\n    const fetchResult = async (messageId) => {\n        try {\n          let { Messages, Spawns, Output, Error } = await result({\n              message: messageId, // Use the messageId from sendMessage response\n              process: \"XZllrzvpGSz52qQnmA_H-3q6OEz-jAl7-AfV0ZGRvik\",\n          });\n            console.log(\"Result data:\", { Messages, Spawns, Output, Error });\n            setResultOutput(Messages[0].Data); // Store the result data for displaying\n        } catch (error) {\n            console.error(\"Error fetching result:\", error);\n        }\n    };\n\n    const connectToArConnect = async () => {\n              try {\n                  // Requesting permissions from ArConnect; adjust permissions as needed\n                  await window.arweaveWallet.connect(['ACCESS_ADDRESS', 'SIGN_TRANSACTION']);\n                  console.log('Connected to ArConnect.');\n              } catch (error) {\n                  console.error('Error connecting to ArConnect:', error);\n              }\n          };\n\n    // Adjust sendMessage to use textInput\n    const sendMessage = async () => {\n        if (!isArConnectAvailable) {\n            alert('Please install ArConnect.');\n            return;\n        }\n\n        try {\n            const response = await message({\n                process: \"XZllrzvpGSz52qQnmA_H-3q6OEz-jAl7-AfV0ZGRvik\",\n                tags: [\n                    { name: \"Action\", value: \"GetEmbedding_Proto\" },\n                    { name: \"Input\", value: textInput } // Now using textInput\n                ],\n                signer: createDataItemSigner(window.arweaveWallet)\n            });\n\n            console.log(\"Message response:\", response);\n            setMessageResponse(response);\n            fetchResult(response);\n        } catch (error) {\n            console.error(\"Error sending message:\", error);\n        }\n    };\n\n    const [showFullList, setShowFullList] = useState(false);\n    const availableWords = ['difficult', 'feature', 'starting', 'noted', 'Spain', 'tell', 'values', 'Welcome', 'Then', 'library', 'red', 'Wales', 'finding', 'communities', 'funds', 'Saturday', 'progress', 'interesting', 'showing', 'overall', 'fair', 'respect', 'manager', 'remember', 'relationship', 'remain', 'Even', 'goes', 'summary', 'served', 'range', 'neither', 'television', 'behavior', 'positive', 'judge', 'Smith', 'purpose', 'spent', 'collection', 'leadership', 'basic', 'joined', 'League', 'mistake']\n\n    \n\n    return (\n      <ThemeProvider theme={theme}>\n      {/* The rest of your component */}\n   \n      <div style={{ padding: '20px' }}>\n          {!isArConnectAvailable && <p>Please install ArConnect to use this app.</p>}\n          {isArConnectAvailable && (\n              <>\n                  <Button variant=\"contained\" color=\"primary\" onClick={connectToArConnect}>Connect to ArConnect</Button>\n\n                  <h3>Available Words:</h3>\n                  <div style={{ height: showFullList ? 'auto' : '50px', overflow: 'hidden' }}>\n                    {availableWords.join(', ')}\n                  </div>\n                  \n\n                  <TextField\n                    label=\"Enter the words to embed\"\n                    variant=\"outlined\"\n                    value={textInput}\n                    onChange={handleTextInputChange}\n                    fullWidth\n                    margin=\"normal\"\n                  />\n                  <Button variant=\"contained\" color=\"secondary\" onClick={sendMessage}>Send Message</Button>\n                  {resultOutput && (\n                    <div>\n                      \n                      <h2>Embedding Output:</h2>\n                      <div style={{ overflowX: 'auto', maxWidth: '600px' }}>\n                        <pre style={{ whiteSpace: 'pre-wrap' }}>{JSON.stringify(resultOutput, null, 2)}</pre>\n                      </div>\n\n                    </div>\n                  )}\n              </>\n          )}\n      </div>\n      </ThemeProvider>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}